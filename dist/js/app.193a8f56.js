(function(e){function t(t){for(var a,o,i=t[0],u=t[1],l=t[2],m=0,d=[];m<i.length;m++)o=i[m],r[o]&&d.push(r[o][0]),r[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);c&&c(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={1:0},s=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=u;s.push([2,0]),n()})({0:function(e,t){},1:function(e,t){},2:function(e,t,n){e.exports=n("Vtdi")},Vtdi:function(e,t,n){"use strict";n.r(t);n("VRzm");var a=n("Kw5r"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],o=n("KHd+"),i={},u=Object(o["a"])(i,r,s,!1,null,null,null),l=u.exports,c=n("jE9Z"),m={install:function(e,t){e.auth=e.prototype.$auth={decodeToken:function(){return this.getToken()?e.jwtDec.decode(this.getToken().slice(7)):null},setToken:function(e){localStorage.setItem("token","Bearer "+e)},getToken:function(){return localStorage.getItem("token")},destroyToken:function(){localStorage.removeItem("token")},isAuthenticated:function(){return!!this.getToken()}}}},d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("header-layout"),n("div",{staticClass:"grid-container"},[n("div",{staticClass:"grid-x"},[n("div",{staticClass:"cell small-6 small-offset-3"},[n("router-view")],1)])])],1)},p=[],v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",{staticClass:"menu align-center"},[n("li",[n("router-link",{attrs:{to:{name:"user-profile"}}},[e._v("Profile")])],1),n("li",[n("router-link",{attrs:{to:{name:"games-list"}}},[e._v("Games")])],1),n("li",[n("router-link",{attrs:{to:"/"}},[e._v("Highest scores")])],1)])])},h=[],f={},g=Object(o["a"])(f,v,h,!1,null,null,null),w=g.exports,b={components:{HeaderLayout:w}},y=b,_=Object(o["a"])(y,d,p,!1,null,null,null),x=_.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"media-object"},[e._m(0),n("div",{staticClass:"media-object-section main-section"},[e._v("\n            Profile\n            "),n("button",{staticClass:"button",attrs:{type:"button"},on:{click:e.logout}},[e._v("logout\n            ")])])])])},k=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"media-object-section"},[n("div",{staticClass:"thumbnail"},[n("img",{attrs:{src:"assets/img/media-object/avatar-1.jpg"}})])])}],C=n("gFX4"),P=n.n(C),O={data:function(){return{socket:P()("https://games-sockets-server.herokuapp.com")}},mounted:function(){this.socket.on("new message",function(e){console.log(e)})},methods:{logout:function(){var e=this;this.$server.user.logout().then(function(t){return e.$router.push({name:"user-login"})})}}},$=O,q=Object(o["a"])($,N,k,!1,null,null,null),j=q.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",{staticClass:"text-center"},[e._v("Games")]),e.games.length>0?n("ul",e._l(e.games,function(t){return n("li",{key:t.id},[e._v(e._s(t.title))])})):e._e()])},R=[],T={mounted:function(){this.$server.games.index()},computed:{games:function(){return this.$store.state.games}}},S=T,M=Object(o["a"])(S,E,R,!1,null,null,null),A=M.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"grid-container"},[n("div",{staticClass:"grid-x"},[n("div",{staticClass:"cell small-6 small-offset-3"},[n("router-view")],1)])])])},K=[],L={components:{HeaderLayout:w}},D=L,F=Object(o["a"])(D,G,K,!1,null,null,null),H=F.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("div",{staticClass:"medium-12 cell"},[n("p",{staticClass:"text-center"},[e._v("\n            Don't have an account?\n            "),n("router-link",{attrs:{to:{name:"user-registration"}}},[e._v("Click here")])],1)]),n("div",{staticClass:"medium-12 cell"},[n("label",[e._v("Email\n            "),n("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{name:"email",type:"text"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})])]),n("div",{staticClass:"medium-12 cell"},[n("label",[e._v("Password\n            "),n("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{name:"password",type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),n("div",{staticClass:"medium-12 cell"},[n("button",{staticClass:"success float-right button",attrs:{type:"button"},on:{click:e.submit}},[e._v("Login\n        ")])])])},J=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"medium-12 cell"},[n("h4",{staticClass:"text-center"},[e._v("Login form")])])}],z={data:function(){return{email:"asd@gmail.com",password:"123123"}},methods:{submit:function(){var e=this;this.$server.user.login({email:this.email,password:this.password}).then(function(t){return e.$router.push({name:"user-profile"})})}}},U=z,V=Object(o["a"])(U,I,J,!1,null,null,null),X=V.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("div",{staticClass:"medium-12 cell"},[n("p",{staticClass:"text-center"},[e._v("\n            Already have an account?\n            "),n("router-link",{attrs:{to:{name:"user-login"}}},[e._v("Click here")])],1)]),n("div",{staticClass:"medium-12 cell"},[n("label",[e._v("First name\n            "),n("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.firstName,expression:"firstName"}],attrs:{name:"firstName",type:"text"},domProps:{value:e.firstName},on:{input:function(t){t.target.composing||(e.firstName=t.target.value)}}})])]),n("div",{staticClass:"medium-12 cell"},[n("label",[e._v("Last name\n            "),n("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.lastName,expression:"lastName"}],attrs:{name:"lastName",type:"text"},domProps:{value:e.lastName},on:{input:function(t){t.target.composing||(e.lastName=t.target.value)}}})])]),n("div",{staticClass:"medium-12 cell"},[n("label",[e._v("phone number\n            "),n("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.phoneNumber,expression:"phoneNumber"}],attrs:{name:"phoneNumber",type:"text"},domProps:{value:e.phoneNumber},on:{input:function(t){t.target.composing||(e.phoneNumber=t.target.value)}}})])]),n("div",{staticClass:"medium-12 cell"},[n("label",[e._v("Email\n            "),n("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{name:"email",type:"text"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})])]),n("div",{staticClass:"medium-12 cell"},[n("label",[e._v("Password\n            "),n("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{name:"password",type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),n("button",{staticClass:"success button float-right",attrs:{type:"button"},on:{click:e.submit}},[e._v("Registration\n    ")])])},Z=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"medium-12 cell"},[n("h4",{staticClass:"text-center"},[e._v("Registration form")])])}],Q={data:function(){return{firstName:this.getRandom(),lastName:this.getRandom(),phoneNumber:"123123",email:this.getRandom()+"@gmail.com",password:"123123"}},methods:{getRandom:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,n="qwertyuiopasdfghjklzxcvbnm",a=[];for(e=0;e<t;e++)a[e]=n[Math.floor(Math.random()*n.length)];return a.join("")},submit:function(){var e=this;this.$server.user.registration({firstName:this.firstName,lastName:this.lastName,phoneNumber:this.phoneNumber,email:this.email,password:this.password}).then(function(t){return e.$router.push({name:"user-login"})})}}},W=Q,Y=Object(o["a"])(W,B,Z,!1,null,null,null),ee=Y.exports;a["a"].use(m),a["a"].use(c["a"]);var te=new c["a"]({routes:[{path:"/",component:x,children:[{path:"profile",name:"user-profile",component:j,meta:{requiresAuth:!0}},{path:"games",name:"games-list",component:A,meta:{requiresAuth:!0}}]},{path:"/",component:H,children:[{path:"registration",name:"user-registration",component:ee,meta:{requiresGuest:!0}},{path:"login",name:"user-login",component:X,meta:{requiresGuest:!0}}]}]});te.beforeEach(function(e,t,n){e.matched.some(function(e){return e.meta.requiresAuth})?a["a"].auth.isAuthenticated()?n():n({name:"user-login"}):e.matched.some(function(e){return e.meta.requiresGuest})&&a["a"].auth.isAuthenticated()?n({name:"user-profile"}):n()});var ne=te,ae=n("L2JU");a["a"].use(ae["a"]);var re=new ae["a"].Store({state:{games:[]},mutations:{},actions:{}}),se=n("KN3F"),oe=n("e7F3"),ie=n("SKy1"),ue=n.n(ie),le=new a["a"],ce={install:function(e,t){e.flashMessage=e.prototype.$flashMessage={show:function(e,t){le.$emit("on-flash-message",{message:e,status:t})}}}},me=(n("KKXr"),{install:function(e,t){e.cookie=e.prototype.$cookie={set:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var r="expires="+a.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"},get:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie),a=n.split(";"),r=0;r<a.length;r++){var s=a[r];while(" "==s.charAt(0))s=s.substring(1);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return""},remove:function(e){document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}}}}),de={install:function(e,t){e.storage=e.prototype.$storage={set:function(e,n){t.state[e]=n},get:function(e){return t.state[e]},remove:function(e){delete t.state[e]}}}},pe={install:function(e,t){e.serverEngine=e.prototype.$serverEngine={request:function(t){var n=this;return t=this.defineDefaultRequestParams(t||{}),new Promise(function(a,r){e.http({url:t.uri,method:t.method,body:t.body,headers:t.headers,progress:function(e){}}).then(function(e){n.handleSuccessResponse(t,e),a(e)}).catch(function(e){n.handleErrorResponse(t,e),r(e)})})},defineDefaultRequestParams:function(t){return t.hasOwnProperty("uri")||(t.uri="/"),t.hasOwnProperty("method")||(t.method="get"),t.hasOwnProperty("body")||(t.body={}),t.hasOwnProperty("headers")||(t.headers={}),t.hasOwnProperty("message")||(t.message=!1),t.hasOwnProperty("loading")||(t.loading=!1),t.hasOwnProperty("auth")&&t.auth&&(t.headers["Authorization"]=e.auth.getToken()),t.hasOwnProperty("store")||(t.loading=!1),t},handleSuccessResponse:function(t,n){t.hasOwnProperty("store")&&e.storage.set(t.store,n.body),t.hasOwnProperty("message")&&t.message&&e.flashMessage.show(!0===t.message?n.data.message:t.message,2)},handleErrorResponse:function(t,n){t.hasOwnProperty("message")&&t.message&&e.flashMessage.show(!0===t.message?n.data.message:t.message,3)}}}},ve={install:function(e,t){e.serverRoutes=e.prototype.$serverRoutes={user:{registration:function(){return"api/account"},login:function(){return"api/auth/login"},logout:function(){return"api/auth/logout"}},games:{store:function(){return"api/games"},index:function(){return"api/games"},show:function(){return"api/games"},update:function(){return"api/games"},destroy:function(){return"api/games"}}}}},he={install:function(e,t){e.server=e.prototype.$server={user:{registration:function(t){return e.serverEngine.request({method:"post",body:t,uri:e.serverRoutes.user.registration()})},login:function(t){return e.serverEngine.request({method:"post",body:t,uri:e.serverRoutes.user.login()}).then(function(t){return e.auth.setToken(t.body.auth_token)})},logout:function(){return e.serverEngine.request({method:"post",auth:!0,uri:e.serverRoutes.user.logout()}).then(function(t){return e.auth.destroyToken()})}},games:{store:function(){return"api/games"},index:function(){return e.serverEngine.request({auth:!0,store:"games",uri:e.serverRoutes.games.index()})},show:function(){return"api/games"},update:function(){return"api/games"},destroy:function(){return"api/games"}}}}},fe={install:function(e,t){e.game=e.prototype.$game={get:function(){return e.http({method:"get",url:"http://www.ping-pong.vladdev.com"})}}}};a["a"].config.productionTip=!1,a["a"].use(se["a"]),a["a"].use(oe["a"]),a["a"].use(ue.a),a["a"].use(ce),a["a"].use(me),a["a"].use(m),a["a"].use(de,re),a["a"].use(pe),a["a"].use(ve),a["a"].use(he),a["a"].use(fe),a["a"].http.options.root="https://localhost:44390";t["default"]=new a["a"]({router:ne,store:re,render:function(e){return e(l)}}).$mount("#app")}});
//# sourceMappingURL=app.193a8f56.js.map